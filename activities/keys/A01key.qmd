---
title: "Summarizing Data - Week 1, Lecture 1"
author: "Dr. Seals"
format: html
self-contained: true
editor: source
---

```{r setup, echo = TRUE, warning = FALSE, message = FALSE}
library(tidyverse)
library(googlesheets4)
library(ggpubr)
```

**Consider the data from the abstract of research study (beginning on page 62). We have data from 22 elementary schools located in a Florida school district in 1999. Reading and math scores from a standardized test, percent minority of the particular grade level in that school, percent in poverty of the particular grade level in that school, and total number of students in that grade at that school are included.**

```{r, echo = TRUE, warning = FALSE, message = FALSE}
data <- read_sheet("https://docs.google.com/spreadsheets/d/1cVGLLdILMI34xjnzHfJNHua6fJROJwCzUBFgV22OLT4/edit#gid=0")
```

#### 1. What are the average math and reading scores for each grade?

```{r, echo=TRUE}
data %>% 
  group_by(Grade) %>%
  summarize(Math = mean(Math, na.rm = TRUE), Reading = mean(Reading, na.rm = TRUE))
```

#### 2. What are the median math scores for each grade?

```{r, echo=TRUE}
data %>% 
  group_by(Grade) %>%
  summarize(Math = median(Math, na.rm = TRUE))
```

#### 3. (Challenge!) Use `ggplot()` to construct histograms of the math and reading scores and determine if we should report the mean or median. 

```{r, echo=TRUE, warning = FALSE, message = FALSE}
p1 <- data %>%
  ggplot(aes(x = Math)) +
  geom_histogram(binwidth = 10, fill = "light blue", color = "black") +
  labs(x = "Math",
       y = "Count") +
  theme_bw()
p2 <- data %>%
  ggplot(aes(x = Reading)) +
  geom_histogram(binwidth = 10, fill = "pink", color = "black") +
  labs(x = "Reading",
       y = "Count") +
  theme_bw()
ggarrange(p1, p2, ncol=2, nrow=1)
```

#### 4. What is the average percent in poverty for each grade?

```{r, echo=TRUE}
data %>% 
  group_by(Grade) %>%
  summarize(Poverty = mean(`%Poverty`, na.rm = TRUE))
```

#### 5. (Challenge!) Why should we be careful when reporting an average percentage of students in poverty? (Note: I am asking for a mathematical answer.)

It does not account for the population size at each school. 

#### 6. (Challenge!) Use `ggplot()` to construct side-by-side box plots for reading and, separately, math scores by grade level (i.e., reconstruct Figure 3.33 from the textbook).

```{r, echo = TRUE, warning = FALSE}
p1 <- data %>%
  mutate(Grade = as.factor(Grade)) %>%
  ggplot(aes(y = Reading, x = Grade)) +
  geom_boxplot() +
  theme_bw()
p2 <- data %>%
  mutate(Grade = as.factor(Grade)) %>%
  ggplot(aes(y = Math, x = Grade)) +
  geom_boxplot() +
  theme_bw()
ggarrange(p1, p2, ncol=2, nrow=1)
```

#### 7. (Challenge!) Use `ggplot()` to construct a scatterplot of reading vs. math scores for each grade level (i.e., create a different version of Figure 3.34 from the textbook).

```{r, echo = TRUE, warning = FALSE}
data %>%
  mutate(Grade = as.factor(Grade)) %>%
  ggplot(aes(y = Math, x = Reading)) +
  geom_point(aes(color = Grade), size=3) +
  theme_bw()
```




